#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBD("../../dbd/pmacUtil.dbd")
#! DBDEND

# Substitutions:
# P - PMAC name
# PORT - PMAC port e.g. PMAC_S0
# ADDR - PMAC address
# PLCPERIOD - P variable to read PLC period from

record(scalcout, "$(P):PLCPERIOD") {
  field(DESC, "Parse readback")
  field(INAA, "$(P):READPLCPERIOD.TINP")
  field(CALC, "SSCANF(AA,'%f')")
  field(PREC, "6")
}

record(asyn, "$(P):READPLCPERIOD") {
  field(PORT, "$(PORT)")
  field(AOUT, "$(PLCPERIOD)")
  field(ADDR, "$(ADDR)")
  field(OEOS, "\r")
  field(IEOS, "\006")
  field(SCAN, "Passive")
  field(FLNK, "$(P):PLCPERIOD")
  field(PINI, "YES")
}

#! Further lines contain data used by VisualDCT
#! View(2770,2522,1.3)
#! Record("$(P):PLCPERIOD",2180,2048,0,1,"$(P):PLCPERIOD")
#! Field("$(P):PLCPERIOD.INAA",16777215,1,"$(P):PLCPERIOD.INAA")
#! Link("$(P):PLCPERIOD.INAA","$(P):READPLCPERIOD.TINP")
#! Record("$(P):READPLCPERIOD",2440,1973,0,1,"$(P):READPLCPERIOD")
#! Field("$(P):READPLCPERIOD.FLNK",16777215,0,"$(P):READPLCPERIOD.FLNK")
#! Link("$(P):READPLCPERIOD.FLNK","$(P):PLCPERIOD")
#! Field("$(P):READPLCPERIOD.TINP",16777215,1,"$(P):READPLCPERIOD.TINP")
